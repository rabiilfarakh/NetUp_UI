<app-header></app-header>

<!-- Section principale avec fond blanc et dégradé -->
<section class="relative py-16 md:py-24 overflow-hidden bg-white">
  <!-- Arrière-plan avec dégradé et effets de flou -->
  <div class="absolute inset-0 bg-gradient-to-br from-blue-950/50 to-blue-900/50 dark:from-blue-950/30 dark:to-blue-900/30 -z-10"></div>
  <div class="absolute top-20 left-10 w-64 h-64 bg-blue-950/10 dark:bg-blue-950/5 rounded-full blur-3xl -z-10"></div>
  <div class="absolute bottom-10 right-10 w-80 h-80 bg-blue-900/10 dark:bg-blue-900/5 rounded-full blur-3xl -z-10"></div>

  <!-- Conteneur principal centré -->
  <div class="container mx-auto px-4 text-center relative">
    <!-- Badge "Insights & Perspectives" -->
    <div class="text-white inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent mb-4 bg-white dark:bg-slate-800 text-blue-950 dark:text-blue-900 hover:bg-white dark:hover:bg-slate-800" data-v0-t="badge">
      Insights & Perspectives
    </div>

    <!-- Titre principal avec dégradé de texte -->
    <h1 class="text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-950 to-blue-900">
      Discover Thought-Provoking Content
    </h1>

    <!-- Paragraphe de description -->
    <p class="text-lg text-black max-w-2xl mx-auto mb-10">
      Explore articles, share ideas, and engage in meaningful discussions with our community of readers and writers.
    </p>

    <!-- Boutons d'action -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-16">
      <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 h-11 px-8 rounded-full bg-gradient-to-r from-blue-950 to-blue-900 hover:from-blue-950 hover:to-blue-950/90 text-white border-0">
        Start Reading
      </button>
      <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background hover:bg-accent hover:text-accent-foreground h-11 px-8 rounded-full border-slate-200 dark:border-slate-700">
        Become a Contributor
      </button>
    </div>

    <!-- Grille de statistiques -->
    <div class="grid grid-cols-3 gap-4 md:gap-8 max-w-3xl mx-auto">
      <!-- Statistique 1 : Articles -->
      <div class="bg-white backdrop-blur-sm rounded-xl p-4 shadow-sm text-black dark:border-slate-700/50">
        <p class="text-2xl md:text-3xl font-bold text-blue-950 dark:text-blue-900">{{ articles.length }}+</p>
        <p class="text-black text-sm md:text-base">Articles</p>
      </div>

      <!-- Statistique 2 : Lecteurs -->
      <div class="bg-white/50 backdrop-blur-sm rounded-xl p-4 shadow-sm border-slate-200/50 dark:border-slate-700/50">
        <p class="text-2xl md:text-3xl font-bold text-blue-900 dark:text-blue-800">50K+</p>
        <p class="text-black text-sm md:text-base">Readers</p>
      </div>

      <!-- Statistique 3 : Contributeurs -->
      <div class="bg-white backdrop-blur-sm rounded-xl p-4 shadow-sm border-slate-200/50 dark:border-slate-700/50">
        <p class="text-2xl md:text-3xl font-bold text-blue-950 dark:text-blue-900">100+</p>
        <p class="text-black text-sm md:text-base">Contributors</p>
      </div>
    </div>
  </div>
</section>

<!-- Section Featured Article -->
<section class="py-16 container mx-auto px-4">
  <!-- En-tête avec titre et bouton "Trending" -->
  <div class="flex justify-between items-center mb-10">
    <h2 class="text-2xl md:text-3xl font-bold">
      <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-950 to-blue-900">Featured Article</span>
    </h2>
    <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-10 px-4 py-2 text-blue-950 hover:text-blue-900">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up h-4 w-4 mr-2">
        <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
        <polyline points="16 7 22 7 22 13"></polyline>
      </svg>
      Trending
    </button>
  </div>

  <!-- Chargement -->
  <div *ngIf="isLoading" class="flex justify-center items-center h-64">
    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-950"></div>
  </div>

  <!-- Carte de l'article en vedette -->
  <div *ngIf="!isLoading && featuredArticle" class="group bg-white rounded-xl overflow-hidden border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-300">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div class="relative h-120 overflow-hidden">
        <img alt="image" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" [src]="featuredArticle.photo ? '/assets/img/' + featuredArticle.photo : '/placeholder.svg'">
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-transparent"></div>
        <div class="absolute bottom-4 left-4 flex flex-wrap gap-2">
          <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm" data-v0-t="badge">Remote Work</div>
          <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm" data-v0-t="badge">Future of Work</div>
          <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm" data-v0-t="badge">Collaboration</div>
        </div>
      </div>

      <div class="p-6 lg:p-8 flex flex-col">
        <div class="flex-1">
          <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent mb-4 bg-blue-950/10 text-blue-950 hover:bg-blue-950/20" data-v0-t="badge">Featured</div>
          <h2 class="text-2xl md:text-3xl font-bold mb-4 group-hover:text-blue-950 transition-colors">
            <a [routerLink]="['/articles', featuredArticle.id]">{{ featuredArticle.title }}</a>
          </h2>
          <p class="text-slate-600 mb-6">{{ featuredArticle.description }}</p>
          <div class="flex items-center mb-6">
            <img alt="image" class="h-12 w-12 rounded-full mr-4 object-cover" [src]="featuredArticle.user?.photo ? '/assets/img/' + featuredArticle.user?.photo : '/placeholder.svg'">
            <div>
              <p class="font-medium">{{ featuredArticle.user?.username || 'Utilisateur inconnu' }}</p>
              <p class="text-sm text-slate-500">{{ featuredArticle.user?.community?.name || 'Aucune communauté' }}</p>
            </div>
          </div>
        </div>

        <div class="flex items-center justify-between pt-6 border-t border-slate-200">
          <div class="flex items-center text-sm text-slate-500">
            <span>{{ featuredArticle.date | date: 'dd/MM/yyyy HH:mm:ss' }}</span>
            <span class="mx-2">•</span>
            <span>12 min read</span>
          </div>
          <div class="flex items-center gap-4">
            <div class="flex items-center text-slate-500">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart h-4 w-4 mr-1">
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
              </svg>
              <span>218</span>
            </div>
            <div class="flex items-center text-slate-500">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square h-4 w-4 mr-1">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              <span>{{ featuredArticle.comments.length }}</span>
            </div>
          </div>
        </div>

        <button [routerLink]="['/articles', featuredArticle.id]" class="cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 h-10 px-4 py-2 mt-6 rounded-full bg-gradient-to-r from-blue-950 to-blue-900 hover:from-blue-950 hover:to-blue-950/90 text-white border-0 group">
          Read Full Article
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right ml-2 h-4 w-4 transition-transform group-hover:translate-x-1">
            <path d="M5 12h14"></path>
            <path d="m12 5 7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Message si aucun article en vedette -->
  <div *ngIf="!isLoading && !featuredArticle" class="text-center text-slate-500 py-8">
    Aucun article en vedette trouvé pour votre communauté.
  </div>
</section>

<!-- Section Latest Articles -->
<section class="py-16 relative overflow-hidden">
  <!-- Arrière-plan avec dégradé et effets de flou -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-100 to-white -z-10"></div>
  <div class="absolute top-40 right-20 w-72 h-72 bg-blue-950/10 rounded-full blur-3xl -z-10"></div>
  <div class="absolute bottom-20 left-20 w-60 h-60 bg-blue-900/10 rounded-full blur-3xl -z-10"></div>

  <!-- Conteneur principal -->
  <div class="container mx-auto px-4">
    <!-- En-tête avec titre et bouton "Create an Article" -->
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-2xl md:text-3xl font-bold">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-950 to-blue-900">Latest Articles</span>
      </h2>
      <button routerLink="/create_article" class="cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 h-10 px-4 py-2 rounded-full bg-gradient-to-r from-blue-950 to-blue-900 hover:from-blue-950 hover:to-blue-950/90 text-white border-0">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus h-4 w-4 mr-2">
          <path d="M5 12h14"></path>
          <path d="M12 5v14"></path>
        </svg>
        Create an Article
      </button>
    </div>

    <!-- Barre de recherche -->
    <div class="mb-10">
      <div class="relative max-w-xl mx-auto">
        <input 
          type="text" 
          [(ngModel)]="searchQuery" 
          (input)="searchArticles()" 
          placeholder="Rechercher un article..." 
          class="w-full h-12 px-4 py-2 text-sm text-gray-700 bg-white border border-slate-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-950 focus:border-transparent shadow-sm"
        >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="24" 
          height="24" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          class="absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>
    </div>

    <!-- Chargement -->
    <div *ngIf="isLoading" class="flex justify-center items-center h-64">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-950"></div>
    </div>

    <!-- Grille d'articles -->
    <div *ngIf="!isLoading" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
      <div *ngFor="let article of filteredArticles" class="bg-white rounded-xl overflow-hidden border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-300">
        <div class="relative h-48 overflow-hidden">
          <img [src]="article.photo ? '/assets/img/' + article.photo : '/placeholder.svg'" alt="{{ article.title }}" [routerLink]="['/articles', article.id]" class="cursor-pointer w-full h-full object-cover transition-transform duration-500 hover:scale-105">
          <div class="absolute top-3 left-3 flex flex-wrap gap-2">
            <!-- Badges dynamiques à ajouter si disponibles -->
          </div>
        </div>
        <div class="p-5">
          <h3 class="font-bold text-xl mb-2 line-clamp-2 hover:text-blue-950 transition-colors">
            <a [routerLink]="['/articles', article.id]">{{ article.title }}</a>
          </h3>
          <p class="text-slate-600 text-sm mb-4 line-clamp-2">{{ article.description }}</p>
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center">
              <img [src]="article.user?.photo ? '/assets/img/' + article.user?.photo : '/placeholder.svg'" alt="{{ article.user?.username }}" class="h-8 w-8 rounded-full mr-2 object-cover">
              <div>
                <p class="text-sm font-medium">{{ article.user?.username || 'Utilisateur inconnu' }}</p>
                <div class="flex items-center text-xs text-slate-500">
                  <span>{{ article.date | date: 'dd/MM/yyyy HH:mm:ss' }}</span>
                  <span class="mx-1">•</span>
                  <span>5 min read</span>
                </div>
              </div>
            </div>
          </div>
          <div class="flex items-center justify-between pt-4 border-t border-slate-200">
            <div class="flex items-center gap-4">
              <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 rounded-md p-0 h-auto text-slate-500 hover:text-blue-900 hover:bg-transparent" data-state="closed">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart h-5 w-5 mr-1">
                  <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
                </svg>
                <span>156</span>
              </button>
              <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 rounded-md p-0 h-auto text-slate-500 hover:text-blue-950 hover:bg-transparent" data-state="closed">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square h-5 w-5 mr-1">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>{{ article.comments.length }}</span>
              </button>
            </div>
            <div class="flex items-center gap-2">
              <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-slate-500 hover:text-blue-950" data-state="closed">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark h-5 w-5">
                  <path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"></path>
                </svg>
              </button>
              <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-8 w-8 text-slate-500 hover:text-blue-950" data-state="closed">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share2 h-5 w-5">
                  <circle cx="18" cy="5" r="3"></circle>
                  <circle cx="6" cy="12" r="3"></circle>
                  <circle cx="18" cy="19" r="3"></circle>
                  <line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line>
                  <line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Message si aucun article -->
    <div *ngIf="!isLoading && filteredArticles.length === 0" class="text-center text-slate-500 py-8">
      Aucun article trouvé pour votre recherche ou communauté.
    </div>

    <!-- Bouton "Load More Articles" -->
    <div *ngIf="!isLoading && filteredArticles.length > 0" class="text-center">
      <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background hover:bg-accent hover:text-accent-foreground h-11 px-8 rounded-full border-slate-200">
        Load More Articles
      </button>
    </div>
  </div>
</section>

<app-footer></app-footer>