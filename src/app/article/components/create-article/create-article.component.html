<app-header></app-header>
<!-- create-article.component.html -->
<main class="flex-grow">
    <div class="container mx-auto px-4 py-8">
      <button routerLink="/articles"
        class="cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mb-4"
        (click)="goBack()">
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="16" 
          height="16" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          class="lucide lucide-arrow-left mr-2">
          <path d="m12 19-7-7 7-7"></path>
          <path d="M19 12H5"></path>
        </svg>
        Retour aux articles
      </button>
  
      <div class="rounded-lg border bg-card text-card-foreground shadow-sm max-w-2xl mx-auto">
        <div class="flex flex-col space-y-1.5 p-6">
          <h3 class="font-semibold tracking-tight text-2xl">Rédiger un nouvel article</h3>
        </div>
  
        <form (ngSubmit)="onSubmit()">
          <div class="p-6 pt-0 space-y-4">
            <div>
              <label for="title" class="block text-sm font-medium mb-1">Titre de l'article*</label>
              <input 
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
                id="title" 
                name="title" 
                placeholder="Entrez le titre de votre article" 
                required 
                [(ngModel)]="article.title">
            </div>
  
            <div>
              <label for="image" class="block text-sm font-medium mb-1">Image de couverture</label>
              <input 
              type="file" 
              id="image" 
              #fileInput
              accept="image/*" 
              class="hidden" 
              (change)="onFileSelected($event)">
            
              <div 
                class="border-2 border-dashed border-gray-300 rounded-md p-8 text-center cursor-pointer hover:bg-gray-50"
                (click)="triggerFileInput()">
                <svg 
                  xmlns="http://www.w3.org/2000/svg" 
                  width="24" 
                  height="24" 
                  viewBox="0 0 24 24" 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-width="2" 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  class="lucide lucide-upload mx-auto h-12 w-12 text-gray-400">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="17 8 12 3 7 8"></polyline>
                  <line x1="12" x2="12" y1="3" y2="15"></line>
                </svg>
                <p class="mt-2 text-sm text-gray-500">Cliquez pour télécharger une image</p>
                <p class="mt-1 text-xs text-gray-400">PNG, JPG, GIF jusqu'à 5MB</p>
              </div>
            </div>
  
            <div>
              <label for="content" class="block text-sm font-medium mb-1">Contenu*</label>
              <textarea 
                class="flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 min-h-[250px]"
                id="content" 
                name="content" 
                placeholder="Rédigez votre article ici..." 
                required 
                [(ngModel)]="article.description">
              </textarea>
            </div>
          </div>
  
          <div class="items-center p-6 pt-0 flex justify-end space-x-2">
            <button 
              class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
              type="button"
              (click)="goBack()">
              Annuler
            </button>
            <button 
              class="cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
              >
              Publier l'article
            </button>
          </div>
        </form>
      </div>
    </div>
  </main>
<app-footer></app-footer>